{"version":3,"sources":["webpack:///./src/app/page/bookings/bookings.module.ts","webpack:///./src/app/page/bookings/bookings.page.html","webpack:///./src/app/page/bookings/bookings.page.scss","webpack:///./src/app/page/bookings/bookings.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AAEV;AAEE;AAE/C,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,2DAAY;KACxB;CACF,CAAC;AAYF;IAAA;IAAiC,CAAC;IAArB,kBAAkB;QAV9B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,iIAAiI;YACjI,YAAY,EAAE,CAAC,2DAAY,CAAC,CAAC,yEAAyE;SACvG,CAAC;OACW,kBAAkB,CAAG;IAAD,yBAAC;CAAA;AAAH;;;;;;;;;;;;AC1B/B,iqCAAiqC,oBAAoB,oCAAoC,qBAAqB,md;;;;;;;;;;;ACA9uC,+DAA+D,mJ;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAF;AACR;AAEc;AAC/B;AAOpC;IAIE,sBACU,eAAgC,EAChC,WAA8B;QAD9B,oBAAe,GAAf,eAAe,CAAiB;QAChC,gBAAW,GAAX,WAAW,CAAmB;QAJxC,cAAS,GAAG,KAAK,CAAC;QACV,UAAK,GAAG,IAAI,iDAAY,EAAE,CAAC;IAI/B,CAAC;IAEL,+BAAQ,GAAR;QAAA,iBAEC;QADC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAC,IAAI,YAAI,CAAC,QAAQ,GAAG,CAAC,EAAjB,CAAiB,CAAC,CAAC,CAAC;IAClF,CAAC;IACD,uCAAgB,GAAhB;QAAA,iBAGC;QAFC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,aAAa,EAAE,CAAC,SAAS,CAAC,cAAM,YAAI,CAAC,SAAS,GAAG,KAAK,EAAtB,CAAsB,CAAC,CAAC,CAAC;IAC/F,CAAC;IACD,sCAAe,GAAf,UAAgB,SAAiB,EAAE,QAAwB;QAA3D,iBAUC;QATC,QAAQ,CAAC,KAAK,EAAE,CAAC;QACjB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACtB,OAAO,EAAE,uBAAuB;SACjC,CAAC,CAAC,IAAI,CAAC,mBAAS;YACf,SAAS,CAAC,OAAO,EAAE,CAAC;YACpB,KAAI,CAAC,eAAe,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC;gBACtD,SAAS,CAAC,OAAO,EAAE,CAAC;YACtB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,kCAAW,GAAX;QACE,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;IAC3B,CAAC;IA9BU,YAAY;QALxB,+DAAS,CAAC;YACT,QAAQ,EAAE,cAAc;YACxB,uGAAmC;;SAEpC,CAAC;yCAM2B,iEAAe;YACnB,gEAAiB;OAN7B,YAAY,CA+BxB;IAAD,mBAAC;CAAA;AA/BwB","file":"page-bookings-bookings-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BookingsPage } from './bookings.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BookingsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  // declarations: [BookingsPage, CreateBookingComponent] // create booking component is not the component that we want to use here\n  declarations: [BookingsPage] // create booking component is not the component that we want to use here\n})\nexport class BookingsPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <!-- open menu using button -->\\n      <!-- <ion-button (click)=\\\"openMenu()\\\">open</ion-button> -->\\n      <ion-menu-button>\\n        <ion-icon name=\\\"menu\\\"></ion-icon>\\n      </ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Your Bookings</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size-md=\\\"6\\\" offset-md=\\\"3\\\" text-center padding *ngIf=\\\"isLoading\\\">\\n        <ion-spinner color=\\\"primary\\\"></ion-spinner>\\n      </ion-col>\\n      <ion-col size-md=\\\"6\\\" offset-md=\\\"3\\\" text-center padding *ngIf=\\\"!isLoading && (!bookings || bookings.length <= 0)\\\">\\n        <p>You don't have any booking currently!</p>\\n      </ion-col>\\n      <ion-col size-md=\\\"6\\\" offset-md=\\\"3\\\" *ngIf=\\\"!isLoading && bookings.length > 0\\\">\\n        <ion-list>\\n          <ion-item-sliding *ngFor=\\\"let booking of bookings\\\" #bookingSlider>\\n            <ion-item>\\n              <ion-avatar slot=\\\"start\\\">\\n                <img [src]=\\\"booking.placeImage\\\" />\\n              </ion-avatar>\\n              <ion-label>\\n                <h5>{{booking.placeTitle}}</h5>\\n                <p>Guests: {{booking.guestNumber}}</p>\\n              </ion-label>\\n            </ion-item>\\n            <ion-item-options side=\\\"end\\\">\\n              <ion-item-option color=\\\"danger\\\" (click)=\\\"onBookingCancel(booking.id, bookingSlider)\\\">\\n                <ion-icon slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>\\n              </ion-item-option>\\n            </ion-item-options>\\n          </ion-item-sliding>\\n        </ion-list>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2UvYm9va2luZ3MvYm9va2luZ3MucGFnZS5zY3NzIn0= */\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { BookingsService } from './bookings.service';\nimport { Booking } from './booking';\nimport { IonItemSliding, LoadingController } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-bookings',\n  templateUrl: './bookings.page.html',\n  styleUrls: ['./bookings.page.scss'],\n})\nexport class BookingsPage implements OnInit, OnDestroy {\n  bookings: Booking[];\n  isLoading = false;\n  private _subs = new Subscription();\n  constructor(\n    private bookingsService: BookingsService,\n    private loadingCtrl: LoadingController,\n  ) { }\n\n  ngOnInit() {\n    this._subs.add(this.bookingsService.bookings.subscribe(b => this.bookings = b));\n  }\n  ionViewWillEnter() {\n    this.isLoading = true;\n    this._subs.add(this.bookingsService.fetchBookings().subscribe(() => this.isLoading = false));\n  }\n  onBookingCancel(bookingId: string, sliderEl: IonItemSliding) {\n    sliderEl.close();\n    this.loadingCtrl.create({\n      message: 'canceling  booking...'\n    }).then(loadingEl => {\n      loadingEl.present();\n      this.bookingsService.cancelBooking(bookingId).subscribe(() => {\n        loadingEl.dismiss();\n      });\n    });\n  }\n\n  ngOnDestroy() {\n    this._subs.unsubscribe();\n  }\n}\n"],"sourceRoot":""}